(()=>{var e={};e.id=708,e.ids=[708],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3744:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>c,pages:()=>m,routeModule:()=>x,tree:()=>l}),i(2108),i(2029),i(5866);var r=i(3191),s=i(8716),n=i(7922),a=i.n(n),d=i(5231),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);i.d(t,o);let l=["",{children:["admin",{children:["audit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,2108)),"C:\\Users\\Admin\\Documents\\Project\\HotShield\\Server\\src\\app\\admin\\audit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,2029)),"C:\\Users\\Admin\\Documents\\Project\\HotShield\\Server\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\Admin\\Documents\\Project\\HotShield\\Server\\src\\app\\admin\\audit\\page.tsx"],c="/admin/audit/page",h={require:i,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/audit/page",pathname:"/admin/audit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2985:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2994,23)),Promise.resolve().then(i.t.bind(i,6114,23)),Promise.resolve().then(i.t.bind(i,9727,23)),Promise.resolve().then(i.t.bind(i,9671,23)),Promise.resolve().then(i.t.bind(i,1868,23)),Promise.resolve().then(i.t.bind(i,4759,23))},8687:(e,t,i)=>{Promise.resolve().then(i.bind(i,7865))},3416:()=>{},7865:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var r=i(326),s=i(7577),n=i(5047),a=i(5110),d=i(3819);function o(){let[e,t]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[l,m]=(0,s.useState)("all"),[c,h]=(0,s.useState)("");(0,n.useRouter)();let x=e.filter(e=>{if("all"!==l&&e.action!==l)return!1;if(c){let t=c.toLowerCase();return e.actor?.toLowerCase().includes(t)||e.target?.toLowerCase().includes(t)||e.action?.toLowerCase().includes(t)}return!0}),u={REPORT_CREATED:"bg-blue-900 text-blue-200",VERDICT_CHANGED:"bg-purple-900 text-purple-200",REPORTER_BANNED:"bg-red-900 text-red-200",CASE_VIEWED:"bg-midnight-800 text-midnight-200",ADMIN_LOGIN:"bg-green-900 text-green-200",ADMIN_LOGOUT:"bg-yellow-900 text-yellow-200",STATE_TRANSITION:"bg-indigo-900 text-indigo-200"},p=Array.from(new Set(e.map(e=>e.action)));return i?(0,r.jsxs)("div",{className:"min-h-screen bg-midnight-950",children:[r.jsx(a.w,{}),r.jsx("div",{className:"p-8 text-midnight-100",children:"Loading..."})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-midnight-950",children:[r.jsx(a.w,{}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-midnight-100",children:"Audit Log"}),(0,r.jsxs)("div",{className:"flex space-x-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Search by actor, target, or action...",value:c,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-midnight-700 rounded flex-1 max-w-md bg-midnight-800 text-midnight-100 placeholder-midnight-400 focus:outline-none focus:ring-2 focus:ring-midnight-600"}),(0,r.jsxs)("select",{value:l,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-midnight-700 rounded bg-midnight-800 text-midnight-100 focus:outline-none focus:ring-2 focus:ring-midnight-600",children:[r.jsx("option",{value:"all",children:"All Actions"}),p.map(e=>r.jsx("option",{value:e,children:e.replace(/_/g," ")},e))]})]})]}),(0,r.jsxs)("div",{className:"bg-midnight-900 rounded-lg shadow-lg border border-midnight-800 overflow-hidden",children:[r.jsx(d.i,{headers:["Timestamp","Action","Actor","Target","Before","After","IP Address"],children:x.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-midnight-800",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-midnight-200",children:new Date(e.timestamp).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded ${u[e.action]||"bg-midnight-800 text-midnight-200"}`,children:e.action.replace(/_/g," ")})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-midnight-200",children:[e.actor?.substring(0,16),"..."]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-midnight-200",children:e.target?`${e.target.substring(0,16)}...`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-midnight-300",children:e.beforeState||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-midnight-300",children:e.afterState||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-midnight-400",children:e.ipAddress||"-"})]},t))}),0===x.length&&r.jsx("div",{className:"text-center py-8 text-midnight-400",children:"No audit logs found"})]})]})]})}},5110:(e,t,i)=>{"use strict";i.d(t,{w:()=>d});var r=i(326);i(7577);var s=i(5047),n=i(434),a=i(1664);function d(){let e=(0,s.useRouter)(),t=(0,s.usePathname)(),i=async()=>{await fetch("/api/admin/logout",{method:"POST"}),e.push("/admin/login")};return r.jsx("nav",{className:"bg-midnight-900 shadow-lg border-b border-midnight-800",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[r.jsx(n.default,{href:"/admin/dashboard",className:"text-xl font-semibold text-midnight-100 hover:text-midnight-300",children:"HotShield Admin"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx(n.default,{href:"/admin/dashboard",children:r.jsx(a.z,{variant:"/admin/dashboard"===t?"primary":"secondary",className:"text-sm",children:"Dashboard"})}),r.jsx(n.default,{href:"/admin/cases",children:r.jsx(a.z,{variant:"/admin/cases"===t||t?.startsWith("/admin/cases/")?"primary":"secondary",className:"text-sm",children:"Cases"})}),r.jsx(n.default,{href:"/admin/reporters",children:r.jsx(a.z,{variant:"/admin/reporters"===t?"primary":"secondary",className:"text-sm",children:"Reporters"})}),r.jsx(n.default,{href:"/admin/audit",children:r.jsx(a.z,{variant:"/admin/audit"===t?"primary":"secondary",className:"text-sm",children:"Audit Log"})}),r.jsx(a.z,{variant:"secondary",onClick:i,className:"text-sm",children:"Logout"})]})]})})})}},1664:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var r=i(326);function s({variant:e="primary",className:t="",children:i,...s}){return r.jsx("button",{className:`px-4 py-2 rounded font-medium transition-colors ${{primary:"bg-midnight-600 text-white hover:bg-midnight-700",secondary:"bg-midnight-800 text-midnight-100 hover:bg-midnight-700 border border-midnight-600",danger:"bg-red-600 text-white hover:bg-red-700"}[e]} ${t}`,...s,children:i})}i(7577)},3819:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});var r=i(326);function s({headers:e,children:t}){return r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-midnight-900 border border-midnight-800",children:[r.jsx("thead",{className:"bg-midnight-800",children:r.jsx("tr",{children:e.map((e,t)=>r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-midnight-300 uppercase tracking-wider border-b border-midnight-700",children:e},t))})}),r.jsx("tbody",{className:"divide-y divide-midnight-800",children:t})]})})}i(7577)},2108:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(8570).createProxy)(String.raw`C:\Users\Admin\Documents\Project\HotShield\Server\src\app\admin\audit\page.tsx#default`)},2029:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n,metadata:()=>s});var r=i(9510);i(5023);let s={title:"HotShield Admin",description:"HotShield Judgment Engine Admin Panel"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[276,471,496],()=>i(3744));module.exports=r})();