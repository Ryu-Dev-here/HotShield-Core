(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{6355:function(e,t,s){Promise.resolve().then(s.bind(s,7426))},7426:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),n=s(2265),r=s(9376),i=s(4545),d=s(1515),c=s(6334);function l(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!0),[o,h]=(0,n.useState)("all"),m=(0,r.useRouter)();(0,n.useEffect)(()=>{fetch("/api/admin/reporters").then(e=>{if(!e.ok){m.push("/admin/login");return}return e.json()}).then(e=>{e&&t(e),l(!1)})},[m]);let x=e.filter(e=>"high-trust"===o?e.trustScore>=70:"low-trust"===o?e.trustScore<30:"abuse-flagged"!==o||e.abuseFlags.length>0),u=async(e,s)=>{(await fetch("/api/admin/reporters/".concat(e,"/ban"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shadowBanned:!s})})).ok&&t(t=>t.map(t=>t.fingerprint===e?{...t,shadowBanned:!s}:t))};return s?(0,a.jsxs)("div",{className:"min-h-screen bg-midnight-950",children:[(0,a.jsx)(i.w,{}),(0,a.jsx)("div",{className:"p-8 text-midnight-100",children:"Loading..."})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-midnight-950",children:[(0,a.jsx)(i.w,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-midnight-100",children:"Reporters"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(c.z,{variant:"all"===o?"primary":"secondary",onClick:()=>h("all"),className:"text-sm",children:"All"}),(0,a.jsx)(c.z,{variant:"high-trust"===o?"primary":"secondary",onClick:()=>h("high-trust"),className:"text-sm",children:"High Trust"}),(0,a.jsx)(c.z,{variant:"low-trust"===o?"primary":"secondary",onClick:()=>h("low-trust"),className:"text-sm",children:"Low Trust"}),(0,a.jsx)(c.z,{variant:"abuse-flagged"===o?"primary":"secondary",onClick:()=>h("abuse-flagged"),className:"text-sm",children:"Abuse Flagged"})]})]}),(0,a.jsx)(d.i,{headers:["Fingerprint","Trust Score","Reports","Accuracy","Abuse Flags","Shadow Banned","Actions"],children:x.map(e=>{let t=e.reportCount>0?Math.round((e.reportCount-e.abuseFlags.length)/e.reportCount*100):0;return(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-midnight-200",children:[e.fingerprint.substring(0,12),"..."]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(e.trustScore>=70?"bg-green-900 text-green-200":e.trustScore>=30?"bg-yellow-900 text-yellow-200":"bg-red-900 text-red-200"),children:e.trustScore})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-midnight-200",children:e.reportCount}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-midnight-200",children:[t,"%"]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.abuseFlags.length>0?(0,a.jsx)("span",{className:"text-red-400 font-semibold",children:e.abuseFlags.length}):(0,a.jsx)("span",{className:"text-midnight-400",children:"0"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.shadowBanned?(0,a.jsx)("span",{className:"text-red-400 font-semibold",children:"Yes"}):(0,a.jsx)("span",{className:"text-midnight-400",children:"No"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)(c.z,{variant:e.shadowBanned?"secondary":"danger",onClick:()=>u(e.fingerprint,e.shadowBanned),className:"text-xs",children:e.shadowBanned?"Unban":"Shadow Ban"})})]},e.fingerprint)})}),0===x.length&&(0,a.jsx)("div",{className:"text-center py-8 text-midnight-400",children:"No reporters found"})]})]})}},4545:function(e,t,s){"use strict";s.d(t,{w:function(){return d}});var a=s(7437);s(2265);var n=s(9376),r=s(7648),i=s(6334);function d(){let e=(0,n.useRouter)(),t=(0,n.usePathname)(),s=async()=>{await fetch("/api/admin/logout",{method:"POST"}),e.push("/admin/login")};return(0,a.jsx)("nav",{className:"bg-midnight-900 shadow-lg border-b border-midnight-800",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,a.jsx)(r.default,{href:"/admin/dashboard",className:"text-xl font-semibold text-midnight-100 hover:text-midnight-300",children:"HotShield Admin"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(r.default,{href:"/admin/dashboard",children:(0,a.jsx)(i.z,{variant:"/admin/dashboard"===t?"primary":"secondary",className:"text-sm",children:"Dashboard"})}),(0,a.jsx)(r.default,{href:"/admin/cases",children:(0,a.jsx)(i.z,{variant:"/admin/cases"===t||(null==t?void 0:t.startsWith("/admin/cases/"))?"primary":"secondary",className:"text-sm",children:"Cases"})}),(0,a.jsx)(r.default,{href:"/admin/reporters",children:(0,a.jsx)(i.z,{variant:"/admin/reporters"===t?"primary":"secondary",className:"text-sm",children:"Reporters"})}),(0,a.jsx)(r.default,{href:"/admin/audit",children:(0,a.jsx)(i.z,{variant:"/admin/audit"===t?"primary":"secondary",className:"text-sm",children:"Audit Log"})}),(0,a.jsx)(i.z,{variant:"secondary",onClick:s,className:"text-sm",children:"Logout"})]})]})})})}},6334:function(e,t,s){"use strict";s.d(t,{z:function(){return n}});var a=s(7437);function n(e){let{variant:t="primary",className:s="",children:n,...r}=e;return(0,a.jsx)("button",{className:"".concat("px-4 py-2 rounded font-medium transition-colors"," ").concat({primary:"bg-midnight-600 text-white hover:bg-midnight-700",secondary:"bg-midnight-800 text-midnight-100 hover:bg-midnight-700 border border-midnight-600",danger:"bg-red-600 text-white hover:bg-red-700"}[t]," ").concat(s),...r,children:n})}s(2265)},1515:function(e,t,s){"use strict";s.d(t,{i:function(){return n}});var a=s(7437);function n(e){let{headers:t,children:s}=e;return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full bg-midnight-900 border border-midnight-800",children:[(0,a.jsx)("thead",{className:"bg-midnight-800",children:(0,a.jsx)("tr",{children:t.map((e,t)=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-midnight-300 uppercase tracking-wider border-b border-midnight-700",children:e},t))})}),(0,a.jsx)("tbody",{className:"divide-y divide-midnight-800",children:s})]})})}s(2265)}},function(e){e.O(0,[448,971,117,744],function(){return e(e.s=6355)}),_N_E=e.O()}]);